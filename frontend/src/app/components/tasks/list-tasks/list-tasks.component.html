

<div class="border border-secondary border-opacity-50 rounded-2 m-3">

  <div class="row">
    <div class="col-lg-12 mt-3 d-flex ">
      <div class="me-auto">
        <h2 class="p-0 mx-3 ">Listado de Tareas</h2>
      </div>
      <ng-container class="">
        <button type="button" class="btn btn-primary" [disabled]="this.isDisable" (click)="openDialogAdd()">+ Tarea</button>          
      </ng-container>
    </div>
  </div> 
        <div class="mx-3 mt-1" style="background-color: #021218;">
          <div class="row">
          
          <!-- <mat-form-field appearance="fill">
            <mat-label>Buscar por cualquier informacion</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Filtro" autocomplete="off">
            <mat-icon matPrefix>search</mat-icon>
          </mat-form-field> -->

          <table mat-table [dataSource]="dataSource" matSort class="table table-dark table-borderless table-hover custom-table" style="background-color: #021218;">

            <!-- Id Column -->
            <!-- <ng-container class="p-0 align-middle" matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef class=""> Id </th>
              <td class="bg-dark p-3 rounded-start-2 align-middle" mat-cell *matCellDef="let element">{{element.id}}</td>
            </ng-container>             -->

            <!-- Position Column -->
            <ng-container class="p-0 align-middle" matColumnDef="nameTask">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre  </th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.nameTask}} </td>
            </ng-container>
            
            <ng-container class="p-0 align-middle" matColumnDef="description">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Descripcion </th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.description || ''}} </td>
            </ng-container>

            <ng-container class="p-0 align-middle" matColumnDef="dueDate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Limite</th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element">
                <div *ngIf="element.dueDate === null; else elseBlock">
                  <div class="p-1 rounded-2"></div>
                </div>
                <ng-template #elseBlock>
                  <div class="p-1 rounded-2" style="background-color: #495057;">{{element.dueDate }}</div>
                </ng-template>                
                <!-- <div class="p-1 rounded-2" style="background-color: #495057;">{{element.dueDate || '31/07/2023'}}</div> -->
              </td>
            </ng-container>   
            
 
            <!-- Position Column -->
            <ng-container class="p-0 align-middle" matColumnDef="priorityTask">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Prioridad </th>
              <!-- <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.priorityTask.id + ': ' + element.priorityTask.namePriority}} </td> -->
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.priorityTask === null ? '' : element.priorityTask.id + ': ' + element.priorityTask.namePriority}} </td>
              <!-- <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> 1 </td> -->
            </ng-container>
            
            <ng-container class="p-0 align-middle" matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element">  
                <mat-checkbox disabled="true" class="example-margin" [checked]="element.status ? true : false" >{{ element.status ? 'Completado' : 'Registrado'}}</mat-checkbox>
              </td>
            </ng-container>         
 
            <ng-container class="p-0 align-middle" matColumnDef="acciones">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Acciones </th>
              <td class="bg-dark p-3 align-middle rounded-end-2" mat-cell *matCellDef="let element"> 
                <a (click)=openDialog(element)  class="task-action">
                  <mat-icon>edit</mat-icon>
                </a>
                <a (click)=deleteTask(element.id)  class="task-action">
                  <mat-icon>delete</mat-icon>
                </a>
              </td>
            </ng-container>            

            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="" style="background-color: #021218;"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>    
        </table>

        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons style="background-color: #021218;"></mat-paginator>

        </div>

      </div>
