

<div class="border border-secondary border-opacity-50 rounded-2 m-3">

  <div class="row">
    <div class="col-lg-12 mt-3 d-flex ">
      <div class="me-auto">
        <h2 class="p-0 mx-3 ">Listado de Tareas</h2>
      </div>
      <ng-container class="">
        <button type="button" class="btn btn-primary" [disabled]="this.isDisable" (click)="openDialogAdd()">+ Tarea</button>          
      </ng-container>
    </div>
  </div> 
        <div class="mx-3 mt-1" style="background-color: #021218;">
          <div class="row">
          
          <!-- <mat-form-field appearance="fill">
            <mat-label>Buscar por cualquier informacion</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Filtro" autocomplete="off">
            <mat-icon matPrefix>search</mat-icon>
          </mat-form-field> -->

          <table mat-table [dataSource]="dataSource" matSort class="table table-dark table-borderless table-hover custom-table" style="background-color: #021218;">

            <!-- Id Column -->
            <!-- <ng-container class="p-0 align-middle" matColumnDef="id">
              <th mat-header-cell *matHeaderCellDef class=""> Id </th>
              <td class="bg-dark p-3 rounded-start-2 align-middle" mat-cell *matCellDef="let element">{{element.id}}</td>
            </ng-container>             -->

            <ng-container class="p-0 align-middle" matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Status</th>
              <td class="bg-dark p-3 align-middle rounded-start-2" mat-cell *matCellDef="let element">  
                <mat-checkbox class="example-margin" [checked]="element.status ? true : false" ><!--{{ element.status ? 'Completado' : 'Registrado'}}-->{{element.nameTask}}</mat-checkbox>
              </td>
            </ng-container>        

            <!-- Position Column -->
            <ng-container class="p-0 align-middle" matColumnDef="nameTask">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre  </th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.nameTask}} </td>
            </ng-container>
            
            <ng-container class="p-0 align-middle" matColumnDef="description">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Descripción </th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.description || ''}} </td>
            </ng-container>

            <ng-container class="p-0 align-middle" matColumnDef="dueDate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha Límite</th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element">
                <div *ngIf="element.dueDate === null; else elseBlock">
                  <div class="p-1 rounded-2"></div>
                </div>
                <ng-template #elseBlock>
                  <div class="p-2 rounded-2" style="background-color: #495057; display: inline;">{{element.dueDate}}</div>
                </ng-template>                
                <!-- <div class="p-1 rounded-2" style="background-color: #495057;">{{element.dueDate || '31/07/2023'}}</div> -->
              </td>
            </ng-container>   
            
 
            <!-- Position Column -->
            <ng-container class="p-0 align-middle" matColumnDef="priorityTask">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Prioridad </th>
              <!-- <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.priorityTask.id + ': ' + element.priorityTask.namePriority}} </td> -->
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> {{element.priorityTask === null ? '' : element.priorityTask.id + ': ' + element.priorityTask.namePriority}} </td>
              <!-- <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element"> 1 </td> -->
            </ng-container>
            
            <!-- <ng-container class="p-0 align-middle" matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
              <td class="bg-dark p-3 align-middle" mat-cell *matCellDef="let element">  
                <mat-checkbox disabled="true" class="example-margin" [checked]="element.status ? true : false" >{{ element.status ? 'Completado' : 'Registrado'}}</mat-checkbox>
              </td>
            </ng-container>          -->
 
            <ng-container class="p-0 align-middle" matColumnDef="acciones">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Acciones </th>
              <td class="bg-dark p-3 align-middle rounded-end-2" mat-cell *matCellDef="let element"> 
                <a (click)=openDialog(element)  class="task-action">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="mx-2 bi bi-pencil-fill" viewBox="0 0 16 16">
                    <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                  </svg>
                  <!-- <mat-icon>edit</mat-icon> -->
                </a>
                <a (click)=deleteTask(element.id)  class="task-action">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="mx-2 bi bi-trash-fill" viewBox="0 0 16 16">
                    <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                  </svg>
                  <!-- <mat-icon>delete</mat-icon> -->
                </a>
              </td>
            </ng-container>            

            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="" style="background-color: #021218;"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>    
        </table>

        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons style="background-color: #021218;"></mat-paginator>

        </div>

      </div>
